syms x;

% 待化简的表达式
expr = x^2/(x^2 + 1)^(3/2) - 1/(x^2 + 1)^(1/2) + (2*(x/(x^2 + 1)^(1/2) + 1))/(x + (x^2 + 1)^(1/2)) + (x*(1/(x^2 + 1)^(1/2) - x^2/(x^2 + 1)^(3/2)))/(x + (x^2 + 1)^(1/2)) - (x*(x/(x^2 + 1)^(1/2) + 1)^2)/(x + (x^2 + 1)^(1/2))^2;

% 使用 simplify 函数化简表达式
simplified_expr = simplify(expr);

% 显示结果
disp('原始表达式:');
disp(expr);

disp('化简后的表达式:');
disp(simplified_expr);
